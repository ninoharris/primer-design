export const INFO = "INFO", ERROR = "ERROR", SUCCESS = "SUCCESS"
export const FV = "FV", RV = "RV", FG = "FG", RG = "RG"

export default {
  // TODO: add in decorator for throwing errors if incorrect arguments given.
  GETTING_STARTED: () => ({
    ID: "GETTING_STARTED",
    type: INFO,
    title: `Welcome to primer designer`,
    additional: "Start by matching the forward primer vector part (top left input)",
    url: "/approaching-primer-design-questions",
  }),
  BLUNT_ENDS_PICKED: (REsiteName, input) => ({
    ID: "BLUNT_ENDS_PICKED",
    type: ERROR,
    inputs: [input],
    title: `Blunt end RE site (${REsiteName}) chosen`,
    adminTitle: 'Blunt RE site chosen',
    additional: "We dont have DNA ligase, so use hanging ends instead",
    url: "/hanging-ends-vs-blunt-ends",
  }),
  NO_MATCH_FV: () => ({
    ID: "NO_MATCH_FV",
    type: ERROR,
    inputs: [FV],
    title: "Forward primer has no matches in vector.",
    adminTitle: "Forward primer missing RE site",
    additional: "Choose a restriction site towards the left, and use its 5'-3' sequence on the leading strand.",
    url: "/selecting-forward-primer-vector",
  }),
  NO_MATCH_RV: () => ({
    ID: "NO_MATCH_RV",
    type: ERROR,
    inputs: [RV],
    title: "Reverse primer has no matches in vector.",
    adminTitle: "Reverse primer missing RE site",
    additional: "Choose a restriction site towards the right, and use its 5'-3' sequence.",
    url: "/selecting-reverse-primer-vector",
  }),
  EXCEED_MATCH_FV: () => ({
    ID: "EXCEED_MATCH_FV",
    type: ERROR,
    inputs: [FV],
    title: "Forward primer matches more than one restriction site.",
    adminTitle: "Forward primer matches multiple RE sites",
    url: "/selecting-a-restriction-site",
  }),
  EXCEED_MATCH_RV: () => ({
    ID: "EXCEED_MATCH_RV",
    type: ERROR,
    inputs: [RV],
    title: "Reverse primer matches more than one restriction site.",
    adminTitle: "Reverse primer matches multiple RE sites",
    url: "/selecting-a-restriction-site",
  }),
  FV_MATCHES_ONCE: () => ({
    ID: "FV_MATCHES_ONCE",
    type: SUCCESS,
    title: "Forward primer matches just one restriction site.",
    url: "/selecting-forward-primer-vector",
  }),
  RV_MATCHES_ONCE: () => ({
    ID: "RV_MATCHES_ONCE",
    type: SUCCESS,
    title: "Reverse primer matches just one restriction site.",
    url: "/selecting-reverse-primer-vector",
  }),
  FV_MATCHES_WRONG_STRAND: () => ({
    ID: "FV_MATCHES_WRONG_STRAND",
    type: ERROR,
    inputs: [FV],
    title: "Forward primer matches a restriction site on the wrong strand",
    adminTitle: "Forward primer matches wrong vector strand",
    additional: "Try using its complement for the vector part (or back-to-front, since its palindromic!). Otherwise the primer would go in the wrong direction away from the MCS.",
    url: "/selecting-forward-primer-vector",
  }),
  RV_MATCHES_WRONG_STRAND: () => ({
    ID: "RV_MATCHES_WRONG_STRAND",
    type: ERROR,
    inputs: [RV],
    title: "Reverse primer matches a restriction site on the wrong strand",
    adminTitle: "Reverse primer matches wrong vector strand",
    additional: "Try using its complement for the vector part (or back-to-front, since its palindromic!). Otherwise the primer would go in the wrong direction away from the MCS.",
    url: "/selecting-reverse-primer-vector",
  }),
  // FUSION PROTEINS
  FV_BEFORE_START: () => ({
    ID: "FV_BEFORE_START",
    type: ERROR,
    inputs: [FV],
    title: "Forward primer restriction  site is before promoter",
    adminTitle: "Forward RE site before promoter",
    url: "/fusion-protein-vector-considerations",
  }),
  RV_AFTER_END: () => ({
    ID: "RV_AFTER_END",
    type: ERROR,
    inputs: [RV],
    title: "Reverse primer restriction is after the C-terminal tag",
    adminTitle: "Reverse RE site after the C-terminal tag",
    url: "/fusion-protein-vector-considerations",
  }),
  // INDIVIDUAL VECTOR STRAND WINNER
  EACH_VECTOR_PRIMER_MATCHES_ONCE: () => ({
    ID: "EACH_VECTOR_PRIMER_MATCHES_ONCE",
    type: SUCCESS,
    title: "Each primer only matches one restriction site",
    additional: "Now lets work on matching our sequence of interest!"
  }),
  // COMBINED VECTORS - Check if any clashes
  SAME_RESTRICTION_SITES: () => ({
    ID: "SAME_RESTRICTION_SITES",
    type: ERROR,
    inputs: [FV, RV],
    title: 'Forward and reverse primers cannot target the same restriction sites.',
    adminTitle: "Didnt pick unique RE sites within vector",
    url: "/preventing-vector-conflicts",
  }),
  VECTOR_OVERLAP: () => ({
    ID: "VECTOR_OVERLAP",
    type: ERROR,
    inputs: [FV, RV],    
    title: "Reverse primer cannot overlap forward primer.",
    adminTitle: "RE sites wrong way round",
    url: "/preventing-vector-conflicts",
  }),
  VECTORS_TOO_CLOSE: (num) => ({
    ID: "VECTORS_TOO_CLOSE",
    type: ERROR,
    inputs: [FV, RV],    
    title: `Your primers use restriction sites that are too close Try selecting a different RE site for either the forward or reverse primer!`,
    adminTitle: "RE sites too close",
    url: "/preventing-vector-conflicts",
  }),
  VECTOR_PRIMERS_APART: () => ({
    ID: "VECTOR_PRIMERS_APART",
    type: SUCCESS,
    title: "Vector primers are away from each other.",
    success: true,
    url: "/preventing-vector-conflicts",
  }),
  //VECTOR RE Sites INSIDE HAYSTACK
  HAYSTACK_CONTAINS_FV_SITE: (REsiteName) => ({
    ID: "HAYSTACK_CONTAINS_FV_SITE",
    type: ERROR,
    inputs: [FV],
    title: `SOI contains the forward primer's restriction site ${REsiteName}`,
    adminTitle: "SOI/GOI contains forward RE site",
    url: "/preventing-sequence-of-interest-conflicts",
  }),
  HAYSTACK_CONTAINS_RV_SITE: (REsiteName) => ({
    ID: "HAYSTACK_CONTAINS_RV_SITE",
    type: ERROR,
    inputs: [RV],
    title: `SOI contains the reverse primer's restriction site ${REsiteName}`,
    adminTitle: "SOI/GOI contains reverse RE site",
    url: "/preventing-sequence-of-interest-conflicts",
  }),
  //INDIVIDUAL HAYSTACK STRANDS
  FORWARD_TOO_SHORT: () => ({
    ID: "FORWARD_TOO_SHORT",
    type: INFO,
    title: 'Forward primer isnt specific enough for SOI!',
    adminTitle: "Forward primer not specific enough",
    additional: "Add in a few more matching bases until you have 18",
    url: "/forward-primer-annealing-sequence-of-interest",
  }),
  REVERSE_TOO_SHORT: () => ({
    ID: "REVERSE_TOO_SHORT",
    type: INFO,
    title: 'Reverse primer isnt specific enough for SOI!',
    adminTitle: "Forward primer not specific enough",
    additional: "Add in a few more matching bases until you have 18.",
    url: "/reverse-primer-annealing-sequence-of-interest",
  }),
  FORWARD_HAYSTACK_MATCH: () => ({
    ID: "FORWARD_HAYSTACK_MATCH",
    type: SUCCESS,
    title: 'Forward anneals to SOI correctly and specifically',
    url: "/forward-primer-annealing-sequence-of-interest",
  }),
  REVERSE_HAYSTACK_MATCH: () => ({
    ID: "REVERSE_HAYSTACK_MATCH",
    type: SUCCESS,
    title: 'Reverse anneals to SOI correctly and specifically',
    url: "/reverse-primer-annealing-sequence-of-interest",
  }),
  //INDIVIDUAL HAYSTACK STRANDS ERROR HANDLING

  FORWARD_WRONG_STRAND: () => ({
    ID: "FORWARD_WRONG_STRAND",
    type: ERROR,
    inputs: [FG],
    title: 'Youve picked the wrong strand!',
    adminTitle: "Forward primer matches wrong SOI strand",
    url: "/forward-primer-annealing-sequence-of-interest",
  }),
  REVERSE_WRONG_STRAND: () => ({
    ID: "REVERSE_WRONG_STRAND",
    type: ERROR,
    inputs: [RG],
    title: 'Youve picked the wrong strand!',
    adminTitle: "Reverse primer matches wrong SOI strand",
    url: "/reverse-primer-annealing-sequence-of-interest",
  }),
  FORWARD_WRONG_DIRECTION: () => ({
    ID: "FORWARD_WRONG_DIRECTION",
    type: ERROR,
    inputs: [FG],
    title: 'Youve done it 3` to 5`, not 5` to 3`!',
    adminTitle: "Forward primer uses wrong direction for SOI",
    url: "/forward-primer-annealing-sequence-of-interest",
  }),
  REVERSE_WRONG_DIRECTION: () => ({
    ID: "REVERSE_WRONG_DIRECTION",
    type: ERROR,
    inputs: [RG],
    title: 'Youve done it 3` to 5`, not 5` to 3`!',
    adminTitle: "Reverse primer uses wrong direction for SOI",
    url: "/reverse-primer-annealing-sequence-of-interest",
  }),
  FORWARD_NO_MATCH: () => ({
    ID: "FORWARD_NO_MATCH",
    type: ERROR,
    inputs: [FG],
    title: 'Forward primer doesnt match construct.',
    adminTitle: "Forward primer doesnt match SOI",
    additional: 'Here is some help below:',
    url: "/forward-primer-annealing-sequence-of-interest",
  }),
  REVERSE_NO_MATCH: () => ({
    ID: "REVERSE_NO_MATCH",
    type: ERROR,
    inputs: [RG],
    title: 'Reverse primer doesnt match construct.',
    adminTitle: "Reverse primer doesnt match SOI",
    additional: 'Here is some help below:',
    url: "/reverse-primer-annealing-sequence-of-interest",
  }),
  FORWARD_HAYSTACK_OUT_OF_FRAME: (frame) => ({
    ID: "FORWARD_HAYSTACK_OUT_OF_FRAME",
    type: ERROR,
    inputs: [FG],
    title: `You've missed the SOI by ${Math.abs(frame)} to the ${frame > 0 ? 'right' : 'left'}`,
    adminTitle: "Forward primer missed SOI by frame",
    additional: `Try ${frame > 0 ? 'adding' : 'removing'} a base at the start of your forward primer which matches the construct`,
    url: "/forward-primer-annealing-sequence-of-interest",
  }),
  REVERSE_HAYSTACK_OUT_OF_FRAME: (frame) => ({
    ID: "REVERSE_HAYSTACK_OUT_OF_FRAME",
    type: ERROR,
    inputs: [RG],
    title: `You've missed the SOI by ${Math.abs(frame)} to the ${frame > 0 ? 'right' : 'left'}`,
    adminTitle: "Reverse primer missed SOI by frame",
    additional: `Try ${frame > 0 ? 'removing' : 'adding'} a base at the end of the reverse primer's sequence which matches the construct`,
    url: "/reverse-primer-annealing-sequence-of-interest",
  }),
  //VECTOR + HAYSTACK

  FORWARD_BOTH_IN_FRAME: () => ({
    ID: "FORWARD_BOTH_IN_FRAME",
    type: SUCCESS,
    title: 'Forward primer is in frame!',
    url: "/forward-primer-frame",
  }),
  REVERSE_BOTH_IN_FRAME: () => ({
    ID: "REVERSE_BOTH_IN_FRAME",
    type: SUCCESS,
    title: 'Reverse primer is in frame!',
    url: "/reverse-primer-frame",
  }),
  FORWARD_BOTH_OUT_OF_FRAME: (frame) => ({
    ID: "FORWARD_BOTH_OUT_OF_FRAME",
    type: ERROR,
    inputs: [FV],
    title: `Forward primer is out of frame by ${Math.abs(frame)}`,
    adminTitle: "SOI is out of frame",
    additional: `At the forward primer sequence, try adding ${frame} base${frame > 1 ? 's' : ''} at the end of the vector part (top right).`,
    url: "/forward-primer-frame",
  }),
  REVERSE_BOTH_OUT_OF_FRAME: (frame) => ({
    ID: "REVERSE_BOTH_OUT_OF_FRAME",
    type: ERROR,
    inputs: [RV],
    title: `Reverse primer is out of frame by ${Math.abs(frame)}`,
    adminTitle: "C-terminal tag out of frame",
    additional: `At the reverse primer sequence, try adding ${frame} base${frame > 1 ? 's' : ''} at the end of the vector part (bottom right).`,
    url: "/reverse-primer-frame",
  }),
  //CONDITIONAL
  FORWARD_INCLUDES_START_CODON: () => ({
    ID: "FORWARD_INCLUDES_START_CODON",
    type: SUCCESS,
    title: 'Construct contains a start codon as necessary.',
    url: "/start-codons-when-and-how",
  }),
  REVERSE_INCLUDES_STOP_CODON: () => ({
    ID: "REVERSE_INCLUDES_STOP_CODON",
    type: SUCCESS,
    title: 'Construct contains a stop codon as necessary.',
    url: "/stop-codons-when-and-how",
  }),
  FORWARD_MISSING_START_CODON: () => ({
    ID: "FORWARD_MISSING_START_CODON",
    type: ERROR,
    inputs: [FV],
    title: 'Your construct requires a start codon.',
    adminTitle: "Missing start codon",
    url: "/start-codons-when-and-how",
  }),
  REVERSE_MISSING_STOP_CODON: () => ({
    ID: "REVERSE_MISSING_STOP_CODON",
    type: ERROR,
    inputs: [RV],
    title: 'Your construct requires a stop codon.',
    adminTitle: "Missing stop codon",
    url: "/stop-codons-when-and-how",
  }),
  FORWARD_INCLUDES_UNECESSARY_START_CODON: () => ({
    ID: "FORWARD_INCLUDES_UNECESSARY_START_CODON",
    type: ERROR,
    inputs: [FV],
    title: 'Construct contains an unecessary start codon.',
    adminTitle: "Unecessary start codon",
    url: "/start-codons-when-and-how",
  }),
  REVERSE_INCLUDES_UNECESSARY_STOP_CODON: () => ({
    ID: "REVERSE_INCLUDES_UNECESSARY_STOP_CODON",
    type: ERROR,
    inputs: [RV],
    title: 'Construct contains an unecessary stop codon.',
    adminTitle: "Unecessary stop codon (truncated protein)",
    url: "/stop-codons-when-and-how",
  }),
  FORWARD_START_CODON_OUT_OF_FRAME: (frame) => ({
    ID: "FORWARD_START_CODON_OUT_OF_FRAME",
    type: ERROR,
    inputs: [FV],
    title: `Your start codon is out of frame by ${frame} base${frame > 1 ? 's' : ''}!`,
    adminTitle: "",
    url: "/start-codons-when-and-how",
  }),
  REVERSE_STOP_CODON_OUT_OF_FRAME: (frame) => ({
    ID: "REVERSE_STOP_CODON_OUT_OF_FRAME",
    type: ERROR,
    inputs: [RV],
    title: `Your stop codon is out of frame by ${frame} base${frame > 1 ? 's' : ''}!`,
    adminTitle: "",
    url: "/stop-codons-when-and-how",
  }),
  MATCHES_VECTOR_AND_HAYSTACK: () => ({
    ID: "MATCHES_VECTOR_AND_HAYSTACK",
    type: SUCCESS,
    title: 'Your primers match both the SOI and vector correctly',
    additional: 'Now press `check answer` to see if it meets other requirements: melting temperature, GC content...',
    url: '/other-considerations',
  }),
  // FINAL CONSIDERATIONS
  FORGOT_5_PRIME_CAP: (inputs = []) => ({
    ID: "FORGOT_5_PRIME_CAP",
    type: ERROR,
    inputs: inputs,
    title: 'You need to now add a 5` cap to both primers',
    adminTitle: "Forgot 5' cap",
    additional: "A 5` cap is an additional 3/4 bases upstream of the RE site. This promotes efficient cutting.",
    url: "/5-prime-cap",
  }),
  ADDED_5_PRIME_CAP: () => ({
    ID: "ADDED_5_PRIME_CAP",
    type: SUCCESS,
    title: `You added a 5' cap to both primers`,
    additional: "A 5` cap is an additional 3/4 bases upstream of the RE site. This promotes efficient cutting.",
    url: "/5-prime-cap",
  }),
  FORGOT_GC_CLAMP: (inputs = []) => ({
    ID: "FORGOT_GC_CLAMP",
    type: ERROR,
    inputs: inputs,
    title: 'You need to now add a GC clamp to both primers',
    adminTitle: "Forgot GC clamp",
    additional: "A GC clamp allows for better annealing. End both your primers with a G or C at the 3' end.",
    url: "/GC-clamp",
  }),
  ADDED_GC_CLAMP: () => ({
    ID: "ADDED_GC_CLAMP",
    type: SUCCESS,
    title: `GC clamp added to both primers at the 3' end`,
    additional: "A base of G/C at the 3' at the allows for better hybridisation.",
    url: "/GC-clamp",
  }),
  TOTAL_LENGTH_INCORRECT: (totalLength, ...inputs) => ({
    ID: "TOTAL_LENGTH_INCORRECT",
    type: ERROR,
    inputs: [...inputs],
    title: `Your ${inputs.includes('FV') ? 'forward' : 'reverse'} primer has an incorrect primer length of ${totalLength}. This should be between 18-30 bases.`,
    adminTitle: `Total primer length incorrect`,
    url: "/primer-length",
  }),
  GC_CONTENT_INCORRECT: (gcContent = 0, ...inputs) => ({
    ID: "GC_CONTENT_INCORRECT",
    type: ERROR,
    inputs: [...inputs],
    title: 'GC content should be between 40%-60%',
    adminTitle: 'Incorrect GC content',
    additional: `Your GC content in your ${inputs.includes('FV') ? 'forward' : 'reverse'} primer is ${(100*gcContent).toFixed()}.`,
    url: "/GC-content"
  }),
  GC_CONTENT_CORRECT: (gcContent = 0, ...inputs) => ({
    ID: "GC_CONTENT_CORRECT",
    type: SUCCESS,
    inputs: [...inputs],
    title: 'GC content is around 40%-60%',
    additional: `The GC content in your ${inputs.includes('FV') ? 'forward' : 'reverse'} primer is ${(100 * gcContent).toFixed()}.`,
    url: "/GC-content"
  }),
  MELTING_TEMPERATURE_INCORRECT: (temp, tooHigh, ...inputs) => ({
    ID: "MELTING_TEMPERATURE_INCORRECT",
    type: ERROR,
    inputs: [...inputs],
    title: `The melting temperature of your ${inputs.includes('FORWARD') ? 'forward' : 'reverse'} primer is too ${tooHigh ? 'high' : 'low'}.`,
    adminTitle: "Poor melting temperature",
    additional: `Its melting temperature is ${temp} degrees, calculated by Tm = 4(G + C) + 2(A + T) °C. This should be between 50-60°C. Try ${tooHigh ? 'removing' : 'adding'} a few bases.`,
    url: "/GC-content"
  }),
  MELTING_TEMPERATURE_CORRECT: (temps = {}, inputs) => ({
    ID: "MELTING_TEMPERATURE_CORRECT",
    type: SUCCESS,
    inputs: [...inputs],
    title: `Melting temperatures between 50-60°C`,
    additional: `Your melting temperatures of ${temps.forward}°C (forward primer) and ${temps.reverse}°C are correct!`,
    url: "/GC-content"
  }),
  //WINNER

  COMPLETE: () => ({
    ID: "COMPLETE",
    type: SUCCESS,
    title: "Congrats you've completed the exercise! Click submit to see your digested vector and final vector."
  })
}